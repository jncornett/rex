var rex=(function(b,d){var c=b.NodeFilter,a=c.FILTER_ACCEPT,g=b.document,f,e,h,i;f=function(m,l,k){var j=g.createElement("span");j.textContent=m;if(l){j.className=l}if(k){k.forEach(function(n){j.appendChild(n)})}return j};h=function(l,k,m){var j;while(j=l.exec(k)){m(j)}};i=function(k,n){var j,m,l=[];m=g.createTreeWalker(g.body,c.SHOW_TEXT,{acceptNode:function(o){if(o.nodeValue.trim()){return a}}},false);while(j=m.nextNode()){h(k,j.nodeValue,function(o){l.push(o)});if(l.length){n(j,l);l=[]}}};e=function(k,l){var j=f("","rex-container"),m=k.nodeValue,n=0;l.forEach(function(o){var p=o.index;if(p>n){j.appendChild(g.createTextNode(m.substring(p,n)))}j.appendChild(f(o[0],"rex-match"));n=p+o[0].length});if(n<m.length-1){j.appendChild(g.createTextNode(m.substring(n)))}k.parentNode.replaceChild(j,k);j.appendChild(f("","rex-reversion",[k]));return j};b.rex={regexForEach:i,makeRexElement:e};return b.rex})(this);